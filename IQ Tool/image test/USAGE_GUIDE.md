# ccm_test_2.py 功能概述

## 新增功能說明

### 佈局結構
```
每個 CCM 參數現在有以下佈局：

[滑桿] [數值顯示]
[-按鍵] [輸入框] [+按鍵]

共 9 個 CCM 參數（3x3 矩陣），依次為：
R_r  R_g  R_b
G_r  G_g  G_b
B_r  B_g  B_b
```

### 交互方式

#### 1. 滑桿 (Slider)
- 直接拖動滑桿調整參數值
- 支持鼠標精細控制

#### 2. 增加/減少按鍵 (±0.05)
```
[-] 按鍵：使值減少 0.05（不會低於最小值）
[+] 按鍵：使值增加 0.05（不會超過最大值）
```

#### 3. 輸入框 (Direct Value Input)
**啟動編輯:**
1. 點擊輸入框（邊框變為藍色，背景變淡青色）

**編輯模式下:**
- 輸入數字、小數點 (.) 或正負號 (+/-)
- Backspace：刪除最後一個字符
- Enter：確認輸入並應用新值
- Escape：取消編輯，恢復原值

**驗證:**
- 輸入的數值會自動限制在該參數的有效範圍內
- 無效輸入會被忽略

### 參數範圍
- **R_r (0, 1, 4, 8)**: [0.0, 2.0]
- **G_g (4)**: [0.0, 2.0]
- **B_b (8)**: [0.0, 2.0]
- **其他參數**: [-1.0, 1.0]

### 視覺反饋

| 元素 | 正常狀態 | 互動狀態 |
|------|---------|---------|
| 減少按鍵 | 淺紅色 | 懸停時變紅 |
| 輸入框 | 淺黃色 | 編輯時變淡青色 |
| 增加按鍵 | 淺綠色 | 懸停時變深綠 |

### 實時更新
- 所有三種輸入方式（滑桿、按鍵、輸入框）都會互相同步
- 修改任一方式會立即更新其他顯示和 CCM 矩陣
- 影像預覽實時更新

### 統計資訊顯示
- **Avg ΔE** / **Max ΔE**: 色差平均值和最大值
- **Avg ΔC** / **Max ΔC**: 色度差平均值和最大值
- **Avg SAT**: 飽和度平均值

所有統計資訊在調整參數時實時更新。

### 重置功能
點擊 **Reset Identity** 按鈕將所有參數重置為單位矩陣：
```
[1.0  0.0  0.0]
[0.0  1.0  0.0]
[0.0  0.0  1.0]
```
